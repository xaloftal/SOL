<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Registo - Saúde On-Line</title>
    <link rel="stylesheet" href="CSS/registoAdm.css">
    <script class="u-script" type="text/javascript" src="JavaScript/jquery.js" defer=""></script>
    <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,500,500i,700,700i">
    <script type="text/javascript">
        doRegister = () => {
            const urlParams = new URLSearchParams(window.location.search);
            const email = urlParams.get('email');

            let name = document.querySelector('[data-id="name"]').value;
            let password = document.querySelector('[data-id="password"]').value;

            $.ajax({
                url: "http://localhost:3050/RegistoAdm?nome=" + encodeURI(name) + "&email=" + encodeURI(email) + "&password=" + encodeURI(password),
                type: "POST",
                crossDomain: false,
                dataType: "json",
                headers: { 
                    "accept": "application/json",
                    "Access-Control-Allow-Origin":"*"
                },
                'Access-Control-Allow-OSrigin': '*'
            })
            .then((response) => {
                window.location = 'paginalogin.html'
            })
            .catch((error) => {
                alert('Erro ao registar')
            });

        }
    </script>
</head>
<body>

    <div class="container">
        <img src="./imagens/imagem_login.jpeg" class="main-img" />
        
        <div class="logo">
            <div style="width: 20%; height: 100%; position: relative">
<div style="width: 57px; height: 52.62px; left: 0px; top: 0px; position: absolute; background: linear-gradient(96deg, #3A8EF6 0%, #6F3AFA 100%); box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.12) inset; border-radius: 9999px"></div>
<div style="width: 32.22px; height: 29.74px; left: 12.39px; top: 11.44px; position: absolute">
<div style="width: 12.39px; height: 29.74px; left: 9.91px; top: -0px; position: absolute; background: white; border-radius: 0.78px"></div>
<div style="width: 11.44px; height: 32.22px; left: 32.22px; top: 9.15px; position: absolute; transform: rotate(90deg); transform-origin: 0 0; background: white; border-radius: 0.78px"></div>
</div>
</div>
            <span class="logo-text" style="font-family:Ubuntu;">Saúde&nbsp;</span><span class="logo-text accent-color"  style="font-family:Ubuntu;">On-Line</span>
        </div>
        
        <div class="register-text" style="font-family:Ubuntu;">Registo</div>
        
        <div class="vertical-line"></div>
        
        <div class="create-account">
            <button class="create-account-text" onclick="doRegister()">Criar conta</button>
        </div>

        <div class="campos-entrada">
        
        
            <label class="input-label">Nome</label>
            <br>
            <input class="input-campo" type="text" size="43px" placeholder="" data-id="name"/>
        
        <br><br>
        
            <label class="input-label">Palavra-Passe</label>
            <br>
            <input class="input-campo" type="password" size="43px" placeholder="" data-id="password"/>
        </div>
        
        
        <div class="have-account">
            <span  style="font-family:Ubuntu;">Já tem conta? </span><a class="accent-color" href="./paginalogin.html"  style="font-family:Ubuntu;">Entre aqui</a>
        </div>
    </div>

</body>
</html>
